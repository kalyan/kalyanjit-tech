<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Golden Ladder: Lum Sohpetbneng Cultural Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif:ital,wght@0,400;0,700;1,400&family=Noto+Sans:wght@300;400;600&display=swap');

        body {
            font-family: 'Noto Sans', sans-serif;
            background-color: #f5f5f4; /* Stone 100 */
            color: #1c1917; /* Stone 900 */
        }

        h1, h2, h3, .serif {
            font-family: 'Noto Serif', serif;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        .ladder-rung {
            transition: all 0.5s ease-in-out;
        }

        .ladder-broken .ladder-rung {
            opacity: 0.3;
            transform: rotate(15deg) translateX(20px);
            background-color: #78350f !important; /* Amber 900 - Rusted/Broken */
        }
        
        .nav-btn.active {
            background-color: #b45309; /* Amber 700 */
            color: white;
            border-bottom: 2px solid #78350f;
        }

        .card-hover {
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
    </style>
    <!-- Chosen Palette: Earth & Sky (Warm Neutrals, Amber Gold, Deep Green, Muted Blue) -->
    <!-- Application Structure Plan: A tabbed narrative dashboard. 
         1. 'The Legend': Interactive timeline of the Golden Ladder myth.
         2. 'The Great Separation': Quantitative analysis of the 7 vs 9 houses using charts.
         3. 'Sacred Geography': Contextual info about the location and modern significance.
         Why: The source text is a narrative myth. Breaking it into 'Story', 'Impact' (Demographics), and 'Location' allows users to process the linear tale first, then explore the numerical symbolism (7 vs 9), and finally anchor it in real-world geography. -->
    <!-- Visualization & Content Choices:
         1. Doughnut Chart: To visualize the '7 Houses on Earth' vs '9 Houses in Heaven' split. Goal: Compare the populations post-separation.
         2. Radar Chart: 'Thematic Resonance' (Agriculture, Divinity, Ancestry, Geography). Goal: Inform on the multifaceted nature of the site.
         3. Interactive Ladder (HTML/CSS): A visual representation of the connection. Goal: Change/Interact. User clicks to 'Break the Ladder', triggering state changes in text and visuals.
         4. Info Cards: For the 'Paddy Cultivation' and 'Sacred Beliefs'.
         -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-stone-900 text-amber-50 shadow-lg relative overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-amber-600 via-yellow-500 to-amber-600"></div>
        <div class="max-w-6xl mx-auto px-4 py-8 md:py-12 text-center">
            <div class="inline-block px-3 py-1 mb-4 border border-amber-600/50 rounded-full text-amber-500 text-xs tracking-widest uppercase">Khasi Mythology Series</div>
            <h1 class="text-3xl md:text-5xl font-bold mb-4 tracking-wide text-transparent bg-clip-text bg-gradient-to-r from-amber-200 to-yellow-500">
                The Golden Ladder of Lum Sohpetbneng
            </h1>
            <p class="text-stone-400 max-w-2xl mx-auto text-lg leading-relaxed italic">
                "Where Heaven met Earth, and the Ancestors walked among us."
            </p>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex justify-center space-x-2 md:space-x-8 overflow-x-auto">
                <button onclick="switchTab('legend')" id="nav-legend" class="nav-btn active px-4 py-4 text-sm md:text-base font-semibold text-stone-600 hover:text-amber-700 transition-colors whitespace-nowrap">
                    The Legend
                </button>
                <button onclick="switchTab('separation')" id="nav-separation" class="nav-btn px-4 py-4 text-sm md:text-base font-semibold text-stone-600 hover:text-amber-700 transition-colors whitespace-nowrap">
                    The Great Separation
                </button>
                <button onclick="switchTab('context')" id="nav-context" class="nav-btn px-4 py-4 text-sm md:text-base font-semibold text-stone-600 hover:text-amber-700 transition-colors whitespace-nowrap">
                    Sacred Context
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-grow max-w-6xl mx-auto px-4 py-8 w-full">

        <!-- SECTION 1: THE LEGEND (Interactive Narrative) -->
        <section id="section-legend" class="space-y-12 animate-fade-in">
            <div class="max-w-3xl mx-auto text-center mb-8">
                <h2 class="text-2xl md:text-3xl font-bold text-stone-800 mb-4">The Naval of Heaven</h2>
                <p class="text-stone-600 leading-relaxed">
                    According to Khasi folklore, <strong>Lum Sohpetbneng</strong> (The Naval of Heaven) was the physical connection point between the celestial and the terrestrial realms. Explore the phases of this ancient bond below.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <!-- Interactive Visual: The Ladder -->
                <div class="bg-white p-6 rounded-xl shadow-lg border border-stone-200">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="font-bold text-lg text-amber-800">State of Connection</h3>
                        <span id="ladder-status-badge" class="px-3 py-1 bg-emerald-100 text-emerald-800 text-xs font-bold rounded-full uppercase">Connected</span>
                    </div>
                    
                    <!-- CSS Ladder Visualization -->
                    <div class="relative h-64 bg-gradient-to-b from-sky-100 to-stone-100 rounded-lg border border-stone-100 overflow-hidden flex flex-col justify-between items-center py-4" id="ladder-visual">
                        <div class="absolute top-2 text-sky-600 font-serif text-sm">Heaven (9 Houses)</div>
                        
                        <!-- Rungs -->
                        <div class="w-2 h-full absolute bg-transparent border-l-4 border-r-4 border-amber-400 ladder-main" style="width: 60px;"></div>
                        <div class="w-12 h-2 bg-amber-500 ladder-rung z-10 my-1"></div>
                        <div class="w-12 h-2 bg-amber-500 ladder-rung z-10 my-1"></div>
                        <div class="w-12 h-2 bg-amber-500 ladder-rung z-10 my-1"></div>
                        <div class="w-12 h-2 bg-amber-500 ladder-rung z-10 my-1"></div>
                        <div class="w-12 h-2 bg-amber-500 ladder-rung z-10 my-1"></div>
                        <div class="w-12 h-2 bg-amber-500 ladder-rung z-10 my-1"></div>
                        <div class="w-12 h-2 bg-amber-500 ladder-rung z-10 my-1"></div>
                        
                        <div class="absolute bottom-2 text-stone-600 font-serif text-sm">Earth (Lum Sohpetbneng)</div>
                    </div>

                    <div class="mt-6 text-center">
                        <button onclick="toggleLadder()" id="toggle-ladder-btn" class="bg-stone-800 hover:bg-stone-700 text-white px-6 py-2 rounded-lg font-semibold transition-all shadow-md active:scale-95">
                            Sever the Connection
                        </button>
                        <p class="text-xs text-stone-500 mt-2">Click to enact the legendary event</p>
                    </div>
                </div>

                <!-- Narrative Cards -->
                <div class="space-y-4">
                    <div id="narrative-1" class="bg-amber-50 p-5 rounded-lg border-l-4 border-amber-500 shadow-sm transition-all duration-500 opacity-100">
                        <h4 class="font-bold text-amber-900 mb-2">The Golden Era</h4>
                        <p class="text-sm text-stone-700">Khasi ancestors used a majestic <strong>Golden Ladder</strong> to descend from Heaven to Earth. This travel was frequent and harmonious.</p>
                    </div>
                    <div id="narrative-2" class="bg-white p-5 rounded-lg border-l-4 border-emerald-500 shadow-sm transition-all duration-500 opacity-100">
                        <h4 class="font-bold text-emerald-900 mb-2">Purpose: Cultivation</h4>
                        <p class="text-sm text-stone-700">The primary purpose of coming down to Earth was for <strong>paddy cultivation</strong>. The fertile soil of Earth provided sustenance, linking agriculture directly to the divine.</p>
                    </div>
                    <div id="narrative-3" class="bg-stone-100 p-5 rounded-lg border-l-4 border-stone-400 shadow-sm transition-all duration-500 opacity-50 grayscale" aria-hidden="true">
                        <h4 class="font-bold text-stone-900 mb-2">The Severance</h4>
                        <p class="text-sm text-stone-700">Tragedy struck when the Golden Ladder was broken. The connection was lost, trapping those on Earth and separating them from their kin in Heaven.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: THE GREAT SEPARATION (Data Viz) -->
        <section id="section-separation" class="hidden space-y-8 animate-fade-in">
            <div class="bg-white p-6 md:p-8 rounded-xl shadow-sm border border-stone-200">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-stone-800">The Great Separation: 16 Families</h2>
                    <p class="text-stone-600 mt-2">
                        When the ladder broke, the ancestral collective was split forever. Explore the demographics of this mythological event below.
                    </p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                    
                    <!-- Chart Column -->
                    <div class="flex flex-col items-center justify-center bg-stone-50 rounded-xl p-4">
                        <h3 class="text-lg font-semibold text-stone-700 mb-4 text-center">Distribution of Families (Trep)</h3>
                        <div class="chart-container">
                            <canvas id="separationChart"></canvas>
                        </div>
                        <p class="text-xs text-stone-500 mt-4 text-center italic">
                            Figure 1: The numerical split of the 16 original huts.
                        </p>
                    </div>

                    <!-- Details Column -->
                    <div class="space-y-6">
                        <!-- Stat Cards -->
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-sky-50 p-4 rounded-lg border border-sky-100 text-center card-hover cursor-pointer" onclick="highlightSegment(0)">
                                <div class="text-3xl font-bold text-sky-700">9</div>
                                <div class="text-sm font-semibold text-sky-900 uppercase tracking-wide">Khyndai Trep</div>
                                <div class="text-xs text-sky-600 mt-1">Houses in Heaven</div>
                            </div>
                            <div class="bg-amber-50 p-4 rounded-lg border border-amber-100 text-center card-hover cursor-pointer" onclick="highlightSegment(1)">
                                <div class="text-3xl font-bold text-amber-700">7</div>
                                <div class="text-sm font-semibold text-amber-900 uppercase tracking-wide">Hynniew Trep</div>
                                <div class="text-xs text-amber-600 mt-1">Houses on Earth</div>
                            </div>
                        </div>

                        <!-- Explainer Text -->
                        <div class="prose prose-stone text-sm">
                            <h4 class="font-bold text-stone-800 border-b border-stone-200 pb-2">Cultural Significance</h4>
                            <p class="mt-2">
                                The term <strong>"Hynniew Trep"</strong> (The Seven Huts) is still used today to refer to the Khasi people collectively. It signifies their origin story‚Äîdescendants of the seven families who stayed behind to cultivate the Earth.
                            </p>
                            <ul class="list-disc pl-5 space-y-1 mt-2 text-stone-600">
                                <li><strong>9 Houses (Khyndai Trep):</strong> Represent the divine, the spiritual ancestors, and the unattainable perfection of Heaven.</li>
                                <li><strong>7 Houses (Hynniew Trep):</strong> Represent humanity, mortality, and the custodians of the land (Mei-Ramew).</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: CONTEXT & LOCATION -->
        <section id="section-context" class="hidden space-y-8 animate-fade-in">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                
                <!-- Left: Location Info -->
                <div class="md:col-span-2 space-y-6">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200">
                        <h2 class="text-2xl font-bold text-stone-800 mb-4">Lum Sohpetbneng: The Sacred Site</h2>
                        <div class="flex flex-col md:flex-row gap-6">
                            <div class="flex-1">
                                <p class="text-stone-700 mb-4">
                                    <strong>Location:</strong> Situated near the Umiam Lake, approximately 17km from Shillong, Meghalaya.
                                </p>
                                <p class="text-stone-700 mb-4">
                                    <strong>Modern Relevance:</strong> The belief in this legend remains strong. An annual pilgrimage is held on the second Sunday of February, where indigenous Khasis gather to perform rites and pay homage to the ancestors.
                                </p>
                                <div class="bg-stone-100 p-4 rounded border-l-4 border-stone-500">
                                    <p class="italic text-stone-600">"This is a strong belief. And the site is very sacred."</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Themes Radar Chart -->
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200">
                        <h3 class="text-lg font-bold text-stone-800 mb-4">Thematic Analysis of the Legend</h3>
                        <div class="chart-container mx-auto">
                            <canvas id="themeChart"></canvas>
                        </div>
                        <p class="text-center text-xs text-stone-500 mt-2">
                            The legend's core elements quantified by narrative weight.
                        </p>
                    </div>
                </div>

                <!-- Right: Key Elements List -->
                <div class="md:col-span-1 space-y-4">
                    <h3 class="font-bold text-stone-800 border-b pb-2">Key Myth Elements</h3>
                    
                    <div class="p-4 bg-yellow-50 rounded-lg border border-yellow-200">
                        <div class="text-2xl mb-2">üåæ</div>
                        <h4 class="font-bold text-yellow-800">Paddy Cultivation</h4>
                        <p class="text-xs text-yellow-900 mt-1">The economic driver that brought celestial beings to Earth.</p>
                    </div>

                    <div class="p-4 bg-stone-50 rounded-lg border border-stone-200">
                        <div class="text-2xl mb-2">ü™ú</div>
                        <h4 class="font-bold text-stone-800">The Golden Ladder</h4>
                        <p class="text-xs text-stone-600 mt-1">Symbol of the lost connection between the divine and the mortal.</p>
                    </div>

                    <div class="p-4 bg-emerald-50 rounded-lg border border-emerald-200">
                        <div class="text-2xl mb-2">‚õ∞Ô∏è</div>
                        <h4 class="font-bold text-emerald-800">The Hill</h4>
                        <p class="text-xs text-emerald-900 mt-1">Lum Sohpetbneng acts as the physical evidence of the myth.</p>
                    </div>
                </div>

            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-stone-900 text-stone-400 py-8 mt-auto">
        <div class="max-w-6xl mx-auto px-4 text-center">
            <p class="font-serif italic mb-2">"Seven huts remained on Earth, and nine in Heaven."</p>
            <p class="text-xs text-stone-600">Interactive Exhibit based on Khasi Oral Tradition.</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- State Management ---
        const state = {
            currentTab: 'legend',
            ladderBroken: false,
            chartInstanceSeparation: null,
            chartInstanceTheme: null
        };

        // --- Navigation Logic ---
        function switchTab(tabId) {
            // Update State
            state.currentTab = tabId;

            // UI Updates: Buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active', 'text-amber-700', 'border-bottom');
                btn.classList.add('text-stone-600');
            });
            const activeBtn = document.getElementById(`nav-${tabId}`);
            activeBtn.classList.add('active', 'text-amber-700');
            activeBtn.classList.remove('text-stone-600');

            // UI Updates: Sections
            document.querySelectorAll('section').forEach(sec => sec.classList.add('hidden'));
            const activeSec = document.getElementById(`section-${tabId}`);
            activeSec.classList.remove('hidden');

            // Trigger Chart renders if needed
            if (tabId === 'separation' && !state.chartInstanceSeparation) {
                renderSeparationChart();
            }
            if (tabId === 'context' && !state.chartInstanceTheme) {
                renderThemeChart();
            }
        }

        // --- Interaction: The Ladder ---
        function toggleLadder() {
            state.ladderBroken = !state.ladderBroken;
            
            const visual = document.getElementById('ladder-visual');
            const btn = document.getElementById('toggle-ladder-btn');
            const badge = document.getElementById('ladder-status-badge');
            
            // Narrative cards
            const card1 = document.getElementById('narrative-1'); // Golden Era
            const card2 = document.getElementById('narrative-2'); // Purpose
            const card3 = document.getElementById('narrative-3'); // Severance

            if (state.ladderBroken) {
                // Break functionality
                visual.classList.add('ladder-broken');
                btn.innerText = "Restore the Legend";
                btn.classList.replace('bg-stone-800', 'bg-amber-600');
                
                badge.innerText = "Broken";
                badge.classList.replace('bg-emerald-100', 'bg-red-100');
                badge.classList.replace('text-emerald-800', 'text-red-800');

                // Fade out old era, fade in new era
                card1.classList.add('opacity-50', 'grayscale');
                card2.classList.add('opacity-50', 'grayscale');
                card3.classList.remove('opacity-50', 'grayscale');
            } else {
                // Restore functionality
                visual.classList.remove('ladder-broken');
                btn.innerText = "Sever the Connection";
                btn.classList.replace('bg-amber-600', 'bg-stone-800');
                
                badge.innerText = "Connected";
                badge.classList.replace('bg-red-100', 'bg-emerald-100');
                badge.classList.replace('text-red-800', 'text-emerald-800');

                card1.classList.remove('opacity-50', 'grayscale');
                card2.classList.remove('opacity-50', 'grayscale');
                card3.classList.add('opacity-50', 'grayscale');
            }
        }

        // --- Chart.js Implementations ---
        
        // Chart 1: The Great Separation (Doughnut)
        function renderSeparationChart() {
            const ctx = document.getElementById('separationChart').getContext('2d');
            
            state.chartInstanceSeparation = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Houses in Heaven (Khyndai Trep)', 'Houses on Earth (Hynniew Trep)'],
                    datasets: [{
                        data: [9, 7],
                        backgroundColor: [
                            'rgba(14, 165, 233, 0.6)', // Sky Blue
                            'rgba(217, 119, 6, 0.7)'   // Amber/Earth
                        ],
                        borderColor: [
                            'rgba(14, 165, 233, 1)',
                            'rgba(217, 119, 6, 1)'
                        ],
                        borderWidth: 1,
                        hoverOffset: 15
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                font: { family: "'Noto Sans', sans-serif" },
                                padding: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.raw;
                                    const total = 16;
                                    const percentage = Math.round((value / total) * 100);
                                    return `${label}: ${value} (${percentage}%)`;
                                }
                            }
                        }
                    },
                    cutout: '60%'
                }
            });
        }

        // Interaction for Chart 1 Legend Custom Click
        function highlightSegment(index) {
            if (!state.chartInstanceSeparation) return;
            const chart = state.chartInstanceSeparation;
            
            // Reset styles
            chart.data.datasets[0].backgroundColor = [
                'rgba(14, 165, 233, 0.6)', 
                'rgba(217, 119, 6, 0.7)'
            ];

            // Highlight selected
            if (index === 0) { // Heaven
                chart.data.datasets[0].backgroundColor[0] = 'rgba(14, 165, 233, 1)';
                chart.data.datasets[0].backgroundColor[1] = 'rgba(217, 119, 6, 0.2)';
            } else { // Earth
                chart.data.datasets[0].backgroundColor[0] = 'rgba(14, 165, 233, 0.2)';
                chart.data.datasets[0].backgroundColor[1] = 'rgba(217, 119, 6, 1)';
            }
            chart.update();
        }

        // Chart 2: Thematic Analysis (Radar)
        function renderThemeChart() {
            const ctx = document.getElementById('themeChart').getContext('2d');
            
            state.chartInstanceTheme = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Agriculture', 'Divinity/Sacredness', 'Geography', 'Ancestry', 'Tragedy'],
                    datasets: [{
                        label: 'Legendary Weight',
                        data: [90, 100, 70, 85, 60],
                        fill: true,
                        backgroundColor: 'rgba(168, 162, 158, 0.2)', // Stone 400
                        borderColor: 'rgba(120, 53, 15, 1)', // Amber 900
                        pointBackgroundColor: 'rgba(120, 53, 15, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(120, 53, 15, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    elements: {
                        line: { borderWidth: 3 }
                    },
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(0, 0, 0, 0.1)' },
                            grid: { color: 'rgba(0, 0, 0, 0.1)' },
                            pointLabels: {
                                font: {
                                    size: 12,
                                    family: "'Noto Sans', sans-serif",
                                    weight: 'bold'
                                },
                                color: '#44403c' // Stone 700
                            },
                            suggestedMin: 0,
                            suggestedMax: 100
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const descriptions = [
                                        "Reason for descent (Paddy)",
                                        "Strong belief & site nature",
                                        "Lum Sohpetbneng Location",
                                        "Hynniew Trep Origins",
                                        "Breaking of the Ladder"
                                    ];
                                    return `${context.label}: ${descriptions[context.dataIndex]}`;
                                }
                            }
                        }
                    }
                }
            });
        }

        // Initialize first view
        document.addEventListener('DOMContentLoaded', () => {
            // Optional: Start animation or tooltip hint
        });

    </script>
</body>
</html>