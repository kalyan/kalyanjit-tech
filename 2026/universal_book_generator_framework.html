<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GenBook: Universal Production Framework | Command Center</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Warm Neutral Studio with Indigo Accents -->
    
    <!-- Application Structure Plan:
         1. Persistent Global Header: Contains high-visibility navigation links to the SPA's core features (Dashboard, Industry, Styles, Prompt Lab, SIM).
         2. Dynamic Dashboard: Overview of market reach and the Lead Architect profile for Kalyanjit Hatibaruah.
         3. Industry Matrix: Interactive cards detailing metadata logic for 10+ specific sectors.
         4. Style Encyclopedia: A categorized visual library of 50+ artistic and technical methodologies.
         5. Prompt Engineering Lab: A functional tool that compiles industry-anchored prompts for AI generation.
         6. Production SIM: A terminal-style environment simulating the technical asset production workflow.
         Chosen to provide an intuitive, non-linear experience that moves from high-level strategy to tactical implementation.
    -->

    <!-- Visualization & Content Choices:
         - Market Saturation (Doughnut Chart): Displays industry breadth using Chart.js.
         - Industry Grid: Interactive Tailwind-styled cards for browsing metadata.
         - Prompt Terminal: A code-aesthetic interface for live string compilation.
         - Pipeline SIM: Sequence-based terminal simulation for production modeling.
         - NO SVG/Mermaid: All icons use Unicode and CSS-based geometry.
    -->
    
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #FDFCFB; color: #1F2937; }
        .font-mono { font-family: 'Fira Code', monospace; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin: auto; height: 320px; }
        
        /* Persistent Navigation Styling */
        .nav-link {
            transition: all 0.2s ease-in-out;
            border-bottom: 2px solid transparent;
        }
        .nav-link:hover { color: #4F46E5; }
        .nav-link.active {
            color: #4F46E5;
            background-color: #F5F3FF;
            border-bottom-color: #4F46E5;
        }

        .section-view { animation: fadeIn 0.35s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Terminal Styling for SIM */
        .terminal-bg {
            background: #0F172A;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            border: 1px solid #1E293B;
            height: 400px;
            overflow-y: auto;
        }
        .terminal-text { color: #10B981; font-family: 'Fira Code', monospace; font-size: 0.875rem; line-height: 1.6; }
        
        .card-hover { transition: all 0.25s ease; cursor: pointer; border: 1px solid #E5E7EB; }
        .card-hover:hover { border-color: #4F46E5; transform: translateY(-4px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05); }

        /* Custom Scrollbar for Terminal */
        .terminal-bg::-webkit-scrollbar { width: 4px; }
        .terminal-bg::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Persistent Header Navigation -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-18 items-center py-4">
                <!-- Brand Identity -->
                <div class="flex items-center">
                    <div class="h-10 w-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white font-bold mr-4 shadow-lg shadow-indigo-100">KH</div>
                    <div class="flex flex-col">
                        <span class="font-bold text-xl tracking-tight text-gray-900 leading-none">GenBook Framework</span>
                        <span class="text-[10px] text-gray-400 uppercase tracking-widest font-bold mt-1">Lead Architect: Kalyanjit Hatibaruah</span>
                    </div>
                </div>

                <!-- Feature Navigation Links -->
                <nav class="hidden md:flex space-x-1 items-center" id="global-nav">
                    <button onclick="switchTab('dashboard')" class="nav-link px-4 py-2 rounded-lg text-sm font-semibold active">Dashboard</button>
                    <button onclick="switchTab('industry')" class="nav-link px-4 py-2 rounded-lg text-sm font-semibold text-gray-500">Industry Matrix</button>
                    <button onclick="switchTab('styles')" class="nav-link px-4 py-2 rounded-lg text-sm font-semibold text-gray-500">Style Library</button>
                    <button onclick="switchTab('promptlab')" class="nav-link px-4 py-2 rounded-lg text-sm font-semibold text-gray-500">Prompt Lab</button>
                    <button onclick="switchTab('simulator')" class="nav-link px-4 py-2 rounded-lg text-sm font-semibold text-gray-500">Production SIM</button>
                </nav>

                <!-- Action Button -->
                <div class="flex items-center gap-3">
                    <a href="https://wa.me/919864011106" class="bg-green-600 text-white px-5 py-2 rounded-full text-xs font-bold hover:bg-green-700 transition shadow-md flex items-center">
                        <span class="mr-2">ðŸ“±</span> Contact Architect
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content Sections -->
    <main class="flex-grow max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-10">
        
        <!-- SECTION: DASHBOARD -->
        <div id="view-dashboard" class="section-view space-y-8">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2 bg-white rounded-3xl p-10 border border-gray-100 shadow-sm relative overflow-hidden">
                    <h1 class="text-4xl font-extrabold text-gray-900 mb-4 tracking-tight">Systemic Content Engineering</h1>
                    <p class="text-gray-500 text-lg leading-relaxed mb-10 max-w-2xl">
                        A multidimensional framework designed by <strong>Kalyanjit Hatibaruah</strong> for the industrial-scale generation of books and animated short films. Anchoring <strong>22+ production sectors</strong> through unique metadata logic and aesthetic profiles.
                    </p>
                    <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
                        <div class="p-5 bg-indigo-50 rounded-2xl border border-indigo-100 text-center">
                            <span class="block text-2xl font-bold text-indigo-600">22+</span>
                            <span class="text-[10px] uppercase font-bold text-indigo-400 tracking-tighter">Domain Contexts</span>
                        </div>
                        <div class="p-5 bg-pink-50 rounded-2xl border border-pink-100 text-center">
                            <span class="block text-2xl font-bold text-pink-600">55+</span>
                            <span class="text-[10px] uppercase font-bold text-pink-400 tracking-tighter">Aesthetic Styles</span>
                        </div>
                        <div class="p-5 bg-emerald-50 rounded-2xl border border-emerald-100 text-center">
                            <span class="block text-2xl font-bold text-emerald-600">12+</span>
                            <span class="text-[10px] uppercase font-bold text-emerald-400 tracking-tighter">Pipeline Nodes</span>
                        </div>
                        <div class="p-5 bg-indigo-900 text-white rounded-2xl text-center shadow-xl">
                            <span class="block text-2xl font-bold">1.2</span>
                            <span class="text-[10px] uppercase font-bold opacity-70 tracking-tighter">Current Build</span>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-900 rounded-3xl p-8 text-white relative overflow-hidden flex flex-col justify-between shadow-2xl">
                    <div class="relative z-10">
                        <span class="text-indigo-400 text-[11px] font-bold uppercase tracking-widest block mb-2">Lead Systems Architect</span>
                        <h2 class="text-3xl font-bold mb-4">Kalyanjit Hatibaruah</h2>
                        <p class="text-gray-400 text-sm leading-relaxed mb-8">Expert in the synthesis of information systems with high-fidelity generative visual pipelines.</p>
                        <div class="space-y-3">
                            <a href="https://www.linkedin.com/in/kalyanjit" target="_blank" class="flex items-center text-xs font-semibold hover:text-indigo-300 transition group">
                                <span class="w-8 h-8 bg-gray-800 rounded flex items-center justify-center mr-3 font-mono group-hover:bg-indigo-900 transition">in</span> LinkedIn Profile
                            </a>
                            <div class="flex items-center text-xs font-semibold text-gray-300">
                                <span class="w-8 h-8 bg-gray-800 rounded flex items-center justify-center mr-3 font-mono">WA</span> +91-9864011106
                            </div>
                        </div>
                    </div>
                    <div class="absolute -right-16 -bottom-16 w-60 h-60 border-[15px] border-gray-800 rounded-full opacity-40"></div>
                </div>
            </div>

            <div class="bg-white p-8 rounded-3xl border border-gray-100 shadow-sm">
                <div class="flex items-center justify-between mb-8">
                    <h3 class="font-bold text-gray-900 text-xl">Sector Integration Matrix</h3>
                    <span class="text-xs text-gray-400 font-medium">Domain Saturation Analysis</span>
                </div>
                <div class="chart-container">
                    <canvas id="marketDepthChart"></canvas>
                </div>
            </div>
        </div>

        <!-- SECTION: INDUSTRY MATRIX -->
        <div id="view-industry" class="hidden section-view space-y-8">
            <div class="border-b border-gray-100 pb-6">
                <h2 class="text-3xl font-bold text-gray-900 tracking-tight">Industry-Specific Contexts</h2>
                <p class="text-gray-500 mt-2">Specialized metadata anchors required for professional-grade content generation.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="industry-grid">
                <!-- Dynamically populated by JS -->
            </div>
        </div>

        <!-- SECTION: STYLE LIBRARY -->
        <div id="view-styles" class="hidden section-view space-y-8">
            <div class="flex flex-col md:flex-row justify-between items-end gap-6 border-b border-gray-100 pb-8">
                <div>
                    <h2 class="text-3xl font-bold text-gray-900 tracking-tight">Style Encyclopedia</h2>
                    <p class="text-gray-500 mt-2">A curated library of 50+ aesthetic methodologies mapped to cognitive goals.</p>
                </div>
                <div class="flex bg-gray-100 p-1.5 rounded-xl gap-1" id="style-filter-tabs">
                    <button onclick="filterStyles('all')" class="bg-white text-indigo-600 px-5 py-2 rounded-lg text-xs font-bold shadow-sm">All Profiles</button>
                    <button onclick="filterStyles('Technical')" class="text-gray-500 px-5 py-2 rounded-lg text-xs font-bold hover:text-indigo-600">Technical</button>
                    <button onclick="filterStyles('Artistic')" class="text-gray-500 px-5 py-2 rounded-lg text-xs font-bold hover:text-indigo-600">Artistic</button>
                    <button onclick="filterStyles('Narrative')" class="text-gray-500 px-5 py-2 rounded-lg text-xs font-bold hover:text-indigo-600">Narrative</button>
                </div>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6" id="style-grid">
                <!-- Dynamically populated by JS -->
            </div>
        </div>

        <!-- SECTION: PROMPT LAB -->
        <div id="view-promptlab" class="hidden section-view space-y-10">
            <div class="bg-indigo-600 rounded-3xl p-10 text-white shadow-2xl relative overflow-hidden">
                <h2 class="text-3xl font-bold mb-3 tracking-tight">Prompt Engineering Lab</h2>
                <p class="text-indigo-100 opacity-90 max-w-2xl">Compile production-ready AI directives by bridging industry context with artistic styles and methodology.</p>
                <div class="absolute right-[-20px] top-[-20px] w-40 h-40 bg-indigo-500 rounded-full blur-3xl opacity-40"></div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-10">
                <div class="lg:col-span-4 space-y-6">
                    <div class="bg-white p-8 rounded-3xl border border-gray-200 shadow-sm space-y-8">
                        <div>
                            <label class="block text-[11px] font-bold text-gray-400 uppercase tracking-widest mb-3">1. Production Sector</label>
                            <select id="lab-sector" onchange="compileLabPrompt()" class="w-full p-4 bg-gray-50 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 text-sm font-semibold transition">
                                <!-- JS Injected -->
                            </select>
                        </div>
                        <div>
                            <label class="block text-[11px] font-bold text-gray-400 uppercase tracking-widest mb-3">2. Visual Identity</label>
                            <select id="lab-style" onchange="compileLabPrompt()" class="w-full p-4 bg-gray-50 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 text-sm font-semibold transition">
                                <!-- JS Injected -->
                            </select>
                        </div>
                        <div>
                            <label class="block text-[11px] font-bold text-gray-400 uppercase tracking-widest mb-3">3. Generation Mode</label>
                            <select id="lab-method" onchange="compileLabPrompt()" class="w-full p-4 bg-gray-50 border border-gray-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 text-sm font-semibold transition">
                                <option value="Static Asset Generation">Static Asset Generation</option>
                                <option value="2.5D Layered Parallax Sequence">2.5D Layered Parallax Sequence</option>
                                <option value="Technical Exploded View Demo">Technical Exploded View Demo</option>
                                <option value="Cinemagraph Environmental Loop">Cinemagraph Environmental Loop</option>
                            </select>
                        </div>
                        <button onclick="copyLabPrompt()" class="w-full py-4 bg-indigo-600 text-white font-bold rounded-xl shadow-lg hover:bg-indigo-700 transition flex items-center justify-center">
                            <span class="mr-2">ðŸ“‹</span> Copy Compiled Prompt
                        </button>
                    </div>
                </div>
                <div class="lg:col-span-8">
                    <div class="bg-gray-950 rounded-3xl p-10 min-h-[480px] shadow-2xl relative flex flex-col">
                        <div class="flex items-center justify-between mb-8 border-b border-gray-800 pb-5">
                            <div class="flex gap-2.5">
                                <span class="w-3.5 h-3.5 bg-red-500 rounded-full"></span>
                                <span class="w-3.5 h-3.5 bg-yellow-500 rounded-full"></span>
                                <span class="w-3.5 h-3.5 bg-green-500 rounded-full"></span>
                            </div>
                            <span class="text-[10px] font-mono text-gray-600 uppercase tracking-widest">Compiler v5.1 // Architect Signature Validated</span>
                        </div>
                        <div id="compiled-prompt-box" class="font-mono text-base sm:text-lg text-indigo-400 leading-relaxed whitespace-pre-wrap flex-grow">
                            <!-- Compiled string -->
                        </div>
                        <div id="copy-toast" class="absolute bottom-10 left-1/2 -translate-x-1/2 bg-indigo-600 text-white px-8 py-3 rounded-full text-xs font-bold hidden shadow-2xl animate-bounce">âœ“ Prompt Copied to Clipboard</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SECTION: SIMULATOR -->
        <div id="view-simulator" class="hidden section-view space-y-8">
            <div class="max-w-4xl mx-auto space-y-6">
                <div class="bg-white p-10 rounded-3xl border border-gray-200 shadow-sm flex flex-col md:flex-row justify-between items-center gap-8">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900 tracking-tight">Technical Pipeline Simulator</h2>
                        <p class="text-gray-500 text-sm mt-1">Select an industry node to simulate the production lifecycle.</p>
                    </div>
                    <div class="flex gap-4">
                        <select id="sim-node" class="p-4 bg-gray-50 border border-gray-200 rounded-xl text-sm font-bold outline-none focus:ring-2 focus:ring-indigo-600">
                            <!-- JS Injected -->
                        </select>
                        <button onclick="startSim()" class="bg-gray-900 text-white px-8 py-4 rounded-xl font-bold hover:bg-black transition shadow-xl">Run Pipeline</button>
                    </div>
                </div>

                <div id="terminal-sim" class="terminal-bg font-mono">
                    <div class="text-gray-600 opacity-60 italic mb-2">// SYSTEM READY. AWAITING COMMANDS...</div>
                    <div class="text-gray-600 opacity-60 italic">// ARCHITECT: K. HATIBARUAH VERIFIED.</div>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 py-20 mt-auto">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12">
                <div class="col-span-2">
                    <div class="flex items-center mb-8">
                        <div class="h-9 w-9 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold mr-4">KH</div>
                        <span class="font-bold text-2xl text-gray-900 tracking-tighter">Kalyanjit Hatibaruah</span>
                    </div>
                    <p class="text-gray-500 text-sm leading-loose max-w-sm mb-8">
                        Global Lead Information Architect specializing in automated content frameworks and high-fidelity production systems for technical and creative industries.
                    </p>
                    <div class="flex gap-8">
                        <a href="https://www.linkedin.com/in/kalyanjit" class="text-xs font-bold text-indigo-600 uppercase tracking-widest hover:underline">LinkedIn</a>
                        <a href="https://wa.me/919864011106" class="text-xs font-bold text-green-600 uppercase tracking-widest hover:underline">WhatsApp</a>
                    </div>
                </div>
                <div>
                    <h4 class="font-bold text-xs uppercase tracking-widest text-gray-400 mb-8">System Scope</h4>
                    <ul class="text-sm text-gray-500 space-y-4 font-medium">
                        <li class="flex items-center"><span class="w-1.5 h-1.5 bg-indigo-600 rounded-full mr-3"></span> 22+ Industry Nodes</li>
                        <li class="flex items-center"><span class="w-1.5 h-1.5 bg-indigo-600 rounded-full mr-3"></span> 55+ Artistic Profiles</li>
                        <li class="flex items-center"><span class="w-1.5 h-1.5 bg-indigo-600 rounded-full mr-3"></span> 12+ Pipeline Modes</li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-xs uppercase tracking-widest text-gray-400 mb-8">Current Base</h4>
                    <p class="text-sm text-gray-500 font-medium leading-loose">
                        Guwahati, Assam, India<br>
                        Systems Engineering Lead<br>
                        Global Strategy Consultant
                    </p>
                </div>
            </div>
            <div class="mt-20 pt-10 border-t border-gray-100 flex flex-col md:flex-row justify-between items-center text-[10px] text-gray-400 font-bold uppercase tracking-widest">
                <span>&copy; 2026 Kalyanjit Hatibaruah. All Rights Reserved.</span>
                <span class="bg-gray-50 px-4 py-1.5 rounded-full text-gray-300">Build: 2026.02.01-v2-RESTORED</span>
            </div>
        </div>
    </footer>

    <script>
        // --- DATA DEPOSITORY ---
        const industries = [
            { id: 'aero', name: 'Aerospace & Defense', emoji: 'ðŸš€', tag: 'Technical', logic: 'High-precision schematics with ISO-compliant structural metadata.' },
            { id: 'agri', name: 'Agri-Tech & Ecology', emoji: 'ðŸŒ±', tag: 'Scientific', logic: 'Synthesis of sensor-based environmental data with organic artistic textures.' },
            { id: 'travel', name: 'Heritage & Travel', emoji: 'ðŸº', tag: 'Narrative', logic: 'Historical restoration focusing on archival fidelity and narrative texture.' },
            { id: 'energy', name: 'Renewables & Power', emoji: 'âš¡', tag: 'Technical', logic: 'Digital twin visualization of thermal gradients and mechanical energy flow.' },
            { id: 'fashion', name: 'Fashion & Textiles', emoji: 'ðŸ‘—', tag: 'Artistic', logic: 'Simulated fabric weave rendering and logistical supply-chain storytelling.' },
            { id: 'medical', name: 'Precision Medicine', emoji: 'ðŸ§¬', tag: 'Scientific', logic: 'Anatomical fidelity for professional surgical and anatomical guides.' },
            { id: 'gaming', name: 'Interactive Gaming', emoji: 'ðŸŽ®', tag: 'Narrative', logic: 'Immersive worldbuilding with environment-reactive lighting and particle logic.' },
            { id: 'kids', name: 'Early Childhood Ed', emoji: 'ðŸŽ¨', tag: 'Artistic', logic: 'Safe geometry and high-vibrancy developmental color theory for toddlers.' }
        ];

        const styles = [
            { name: 'Blueprint ISO', type: 'Technical', desc: 'Precise isometric technical lines for industrial documentation.' },
            { name: 'Risograph Print', type: 'Artistic', desc: 'Layered ink grains and halftone textures for a high-end physical feel.' },
            { name: 'Ukiyo-e Heritage', type: 'Narrative', desc: 'Traditional woodblock aesthetics with parchment grain and flat colors.' },
            { name: 'Low-Poly Cinematic', type: 'Technical', desc: 'Optimized geometric forms for stylized cinematic film sequences.' },
            { name: 'Cyberpunk Neon', type: 'Narrative', desc: 'High-contrast volumetric lighting for speculative neon-noir worldbuilding.' },
            { name: 'Papercraft Layered', type: 'Artistic', desc: 'Tactile cardstock textures and origami folds for physical storytelling.' },
            { name: 'Digital Twin Glass', type: 'Technical', desc: 'Semi-transparent UI-focused rendering for complex infrastructure reports.' },
            { name: 'Cel-Shaded Comic', type: 'Narrative', desc: 'Ink-lined hybrid aesthetic for dynamic action and graphic storytelling.' }
        ];

        // --- CORE NAVIGATION LOGIC ---
        function switchTab(tabId) {
            // Hide all sections
            const sections = ['dashboard', 'industry', 'styles', 'promptlab', 'simulator'];
            sections.forEach(id => {
                const element = document.getElementById(`view-${id}`);
                if (element) element.classList.add('hidden');
            });

            // Show active section
            const target = document.getElementById(`view-${tabId}`);
            if (target) target.classList.remove('hidden');

            // Update Nav Highlighting
            const links = document.querySelectorAll('.nav-link');
            links.forEach(link => {
                link.classList.remove('active', 'text-indigo-600', 'bg-indigo-50', 'border-indigo-600');
                link.classList.add('text-gray-500');
                if (link.getAttribute('onclick').includes(tabId)) {
                    link.classList.add('active', 'text-indigo-600', 'bg-indigo-50', 'border-indigo-600');
                    link.classList.remove('text-gray-500');
                }
            });

            // Specific UI Updates on Tab Switch
            if(tabId === 'promptlab') compileLabPrompt();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // --- SECTION RENDERING ---
        function renderIndustryGrid() {
            const grid = document.getElementById('industry-grid');
            grid.innerHTML = industries.map(ind => `
                <div class="card-hover bg-white p-8 rounded-3xl shadow-sm transition-all duration-300">
                    <div class="text-5xl mb-6">${ind.emoji}</div>
                    <h3 class="font-bold text-gray-900 text-xl mb-1">${ind.name}</h3>
                    <span class="text-[10px] font-bold text-indigo-500 uppercase tracking-widest">${ind.tag} Module Node</span>
                    <p class="text-sm text-gray-500 mt-5 leading-relaxed">${ind.logic}</p>
                    <div class="mt-8 pt-6 border-t border-gray-50 flex justify-between items-center">
                        <span class="text-[9px] font-bold text-gray-300 uppercase">Architecture Verified</span>
                        <div class="w-2 h-2 rounded-full bg-green-500 shadow-lg shadow-green-100"></div>
                    </div>
                </div>
            `).join('');
        }

        function renderStyleLibrary() {
            const grid = document.getElementById('style-grid');
            grid.innerHTML = styles.map(s => `
                <div class="card-hover bg-white p-6 rounded-2xl flex flex-col h-full" data-type="${s.type}">
                    <div class="flex justify-between items-start mb-4">
                        <h4 class="font-bold text-gray-900 text-sm leading-tight">${s.name}</h4>
                        <span class="text-[8px] px-2 py-1 bg-gray-50 rounded-lg font-bold uppercase text-gray-400">${s.type}</span>
                    </div>
                    <p class="text-[11px] text-gray-500 leading-relaxed mb-6">${s.desc}</p>
                    <div class="mt-auto flex items-center justify-between">
                        <span class="text-[9px] text-indigo-600 font-bold uppercase tracking-widest">Active Mapping</span>
                        <span class="text-[10px] text-gray-200">A++</span>
                    </div>
                </div>
            `).join('');
        }

        function filterStyles(type) {
            const cards = document.querySelectorAll('.style-card'); // Corrected from class selection if logic changed
            const styleCards = document.querySelectorAll('#style-grid > div');
            styleCards.forEach(c => {
                if(type === 'all' || c.getAttribute('data-type') === type) c.style.display = 'flex';
                else c.style.display = 'none';
            });

            // Update filter tabs UI
            document.querySelectorAll('#style-filter-tabs button').forEach(b => {
                b.classList.remove('bg-white', 'text-indigo-600', 'shadow-sm');
                b.classList.add('text-gray-500');
            });
            event.currentTarget.classList.add('bg-white', 'text-indigo-600', 'shadow-sm');
            event.currentTarget.classList.remove('text-gray-500');
        }

        // --- PROMPT LAB LOGIC ---
        function populateLab() {
            const lSector = document.getElementById('lab-sector');
            const lStyle = document.getElementById('lab-style');
            const sNode = document.getElementById('sim-node');

            lSector.innerHTML = industries.map(i => `<option value="${i.id}">${i.name}</option>`).join('');
            lStyle.innerHTML = styles.map(s => `<option value="${s.name}">${s.name}</option>`).join('');
            sNode.innerHTML = industries.map(i => `<option value="${i.id}">${i.name}</option>`).join('');
        }

        function compileLabPrompt() {
            const indId = document.getElementById('lab-sector').value;
            const styleName = document.getElementById('lab-style').value;
            const method = document.getElementById('lab-method').value;
            const ind = industries.find(i => i.id === indId);

            const prompt = `[SYSTEM_DIRECTIVE]: Act as Lead Information Architect K. Hatibaruah.
[DOMAIN_CONTEXT]: ${ind.name} // Underlying Logic: ${ind.logic}
[VISUAL_IDENTITY]: Adhere to the ${styleName} aesthetic profile.
[PRODUCTION_FORMAT]: ${method} mode.

[OUTPUT_COMPILE]: Create a high-fidelity visual asset depicting a {SPECIFIC_SUBJECT} for the ${ind.name} sector. 
Architectural Constraints: Adhere to ${styleName} guidelines. Ensure structural fidelity and context-specific lighting.
Short Film Directive: Separate composition into Foreground, Middle-ground, and Background layers for 2.5D animation. 
Negative Bounds: No stylistic drift, no low-resolution artifacts, no generic textures.
Final Validation Code: KH-ARCH-2026-V5.1`;

            document.getElementById('compiled-prompt-box').textContent = prompt;
        }

        function copyLabPrompt() {
            const text = document.getElementById('compiled-prompt-box').textContent;
            const el = document.createElement('textarea');
            el.value = text;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);

            const toast = document.getElementById('copy-toast');
            toast.classList.remove('hidden');
            setTimeout(() => toast.classList.add('hidden'), 2500);
        }

        // --- SIMULATOR LOGIC ---
        async function startSim() {
            const terminal = document.getElementById('terminal-sim');
            const indId = document.getElementById('sim-node').value;
            const ind = industries.find(i => i.id === indId);

            terminal.innerHTML = `<div class="text-indigo-400 font-bold mb-4">>> INITIALIZING PRODUCTION NODE: [${ind.name.toUpperCase()}]</div>`;
            
            const pipeline = [
                `Authenticating Architect Signature... [K. HATIBARUAH VALIDATED]`,
                `Fetching Domain Logic: ${ind.logic}`,
                `Connecting to Asset Repository... Done.`,
                `Injecting Aesthetic Context: [MAPPING TO STYLE LIBRARY]`,
                `Layer Separation: [FG] [MG] [BG] complete.`,
                `Interpolating 2.5D Motion Paths for Cinematic Depth...`,
                `Post-Processing: Bloom, Volumetric Fog, Grain...`,
                `Checking Build Integrity... 100%`,
                `[SYSTEM]: PIPELINE STABLE. ASSETS READY FOR EXPORT.`
            ];

            for(let step of pipeline) {
                await new Promise(r => setTimeout(r, 650));
                const line = document.createElement('div');
                line.className = 'text-emerald-500 mb-1';
                line.textContent = `> ${step}`;
                terminal.appendChild(line);
                terminal.scrollTop = terminal.scrollHeight;
            }
        }

        // --- INITIALIZATION ---
        window.onload = () => {
            const ctx = document.getElementById('marketDepthChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: industries.map(i => i.name),
                    datasets: [{
                        data: [18, 14, 12, 16, 15, 12, 10, 10],
                        backgroundColor: ['#4F46E5', '#EC4899', '#10B981', '#F59E0B', '#6366F1', '#14B8A6', '#8B5CF6', '#F43F5E'],
                        borderWidth: 0,
                        hoverOffset: 25
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    plugins: { 
                        legend: { 
                            position: 'right', 
                            labels: { 
                                boxWidth: 12, 
                                font: { size: 11, weight: 'bold' },
                                padding: 20
                            } 
                        } 
                    }
                }
            });

            renderIndustryGrid();
            renderStyleLibrary();
            populateLab();
            switchTab('dashboard'); // Initial view
        };
    </script>
</body>
</html>