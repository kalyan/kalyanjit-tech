<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nano Banana: Interactive Prompt Reference</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Custom Font Import */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@400;700&display=swap');

        :root {
            --bg-warm: #FEFDF5;
            --text-main: #27272A;
            --banana-accent: #FDE047;
            --banana-dark: #EAB308;
            --card-bg: #FFFFFF;
            --border-subtle: #E7E5E4;
        }

        body {
            background-color: var(--bg-warm);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
        }

        .mono {
            font-family: 'JetBrains Mono', monospace;
        }

        /* Chart Container Utilities - MANDATORY */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            height: 350px; /* Base height */
            max-height: 400px;
            margin-left: auto;
            margin-right: auto;
        }
        
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }

        /* Interactive Element Transitions */
        .nav-item {
            transition: all 0.2s ease;
        }
        .nav-item:hover, .nav-item.active {
            background-color: #FEF08A; /* yellow-200 */
            border-right: 4px solid var(--banana-dark);
            font-weight: 600;
        }

        .prompt-card {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .prompt-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: #D6D3D1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #A8A29E;
        }
    </style>
</head>
<body class="h-screen overflow-hidden flex flex-col md:flex-row">

    <!-- Mobile Header -->
    <header class="md:hidden bg-white border-b border-stone-200 p-4 flex justify-between items-center z-50">
        <h1 class="text-xl font-extrabold tracking-tight text-yellow-600">üçå Nano Banana</h1>
        <button id="menu-toggle" class="text-2xl p-1 focus:outline-none">‚ò∞</button>
    </header>

    <!-- Sidebar Navigation -->
    <nav id="sidebar" class="bg-white border-r border-stone-200 w-full md:w-64 flex-shrink-0 flex flex-col h-full transform -translate-x-full md:translate-x-0 transition-transform duration-300 absolute md:relative z-40">
        <div class="p-6 hidden md:block">
            <h1 class="text-2xl font-extrabold tracking-tight text-yellow-600">üçå Nano Banana</h1>
            <p class="text-xs text-stone-500 mt-1 uppercase tracking-wider">Prompt Reference Suite</p>
        </div>

        <div class="flex-1 overflow-y-auto py-4 space-y-1">
            <button onclick="navTo('dashboard')" class="nav-item w-full text-left px-6 py-3 text-stone-600 active" data-target="dashboard">
                <span class="mr-2">üìä</span> Overview
            </button>
            <button onclick="navTo('art-styles')" class="nav-item w-full text-left px-6 py-3 text-stone-600" data-target="art-styles">
                <span class="mr-2">üé®</span> Art & Aesthetics
            </button>
            <button onclick="navTo('engineering')" class="nav-item w-full text-left px-6 py-3 text-stone-600" data-target="engineering">
                <span class="mr-2">üìê</span> Tech & Engineering
            </button>
            <button onclick="navTo('medical')" class="nav-item w-full text-left px-6 py-3 text-stone-600" data-target="medical">
                <span class="mr-2">ü©∫</span> Medical & Anatomy
            </button>
            <button onclick="navTo('infographics')" class="nav-item w-full text-left px-6 py-3 text-stone-600" data-target="infographics">
                <span class="mr-2">üß©</span> Infographics
            </button>
            <button onclick="navTo('builder')" class="nav-item w-full text-left px-6 py-3 text-stone-600" data-target="builder">
                <span class="mr-2">üõ†Ô∏è</span> Prompt Builder
            </button>
        </div>

        <div class="p-6 border-t border-stone-100">
            <div class="bg-yellow-50 rounded-lg p-4 mb-4">
                <p class="text-xs text-yellow-800 font-semibold mb-2">Pro Tip:</p>
                <p class="text-xs text-yellow-700 italic" id="daily-tip">"Use negative prompts to remove unwanted artifacts."</p>
            </div>
            
            <!-- Author Info -->
            <div class="text-xs text-stone-500 space-y-1">
                <p class="font-bold text-stone-700">Author</p>
                <p>Kalyanjit Hatibaruah</p>
                <p class="flex items-center gap-1">
                    <span>üì±</span> +91-9864011106
                </p>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-1 h-full overflow-y-auto relative p-4 md:p-8 scroll-smooth" id="main-content">
        <!-- Content injected via JS -->
    </main>

    <!-- JavaScript Logic -->
    <script>
        // --- State Management ---
        const state = {
            currentView: 'dashboard',
            promptBuilder: {
                subject: '',
                style: '',
                lighting: '',
                camera: '',
                material: '',
                renderer: '',
                negative: '',
                ar: '--ar 16:9'
            }
        };

        // --- Data Store ---
        const dataStore = {
            tips: [
                "Use '::' to separate distinct concepts in some models.",
                "Lighting keywords like 'volumetric' add immense depth.",
                "For technical drawings, 'orthographic' is a magic word.",
                "Specify 'vector style' for clean, scalable-looking graphics.",
                "For medical art, use 'Frank H. Netter style' for clean anatomy."
            ],
            styles: [
                { id: 'cyberpunk', name: 'Cyberpunk', icon: 'üåÜ', desc: 'High contrast, neon, futuristic.', prompt: 'cyberpunk city, neon lights, rain-slicked streets, high contrast, futuristic architecture', metrics: [90, 20, 80, 70, 60] },
                { id: 'oil', name: 'Oil Painting', icon: 'üñºÔ∏è', desc: 'Textured, classic, rich colors.', prompt: 'oil painting, thick impasto, visible brushstrokes, classical composition, dramatic lighting', metrics: [40, 90, 60, 30, 80] },
                { id: 'pencil', name: 'Pencil Sketch', icon: '‚úèÔ∏è', desc: 'Monochrome, detailed, rough.', prompt: 'graphite sketch, rough lines, shading, monochrome, sketchbook style', metrics: [80, 10, 20, 10, 40] },
                { id: '3d', name: '3D Render', icon: 'üßä', desc: 'Clean, glossy, isometric.', prompt: '3D render, blender cycles, octane render, isometric view, soft shadows, clay material', metrics: [70, 5, 50, 90, 20] },
                { id: 'watercolor', name: 'Watercolor', icon: 'üíß', desc: 'Soft, bleeding edges, pastel.', prompt: 'watercolor painting, wet-on-wet, pastel colors, soft edges, dreamy atmosphere', metrics: [30, 60, 40, 20, 50] }
            ],
            engineering: [
                { title: 'Blueprint', keyword: 'blueprint', desc: 'Standard architectural white-on-blue.', prompt: 'architectural blueprint, technical drawing, white lines on blue background, schematic, measurements' },
                { title: 'Exploded View', keyword: 'exploded view', desc: 'Parts separated to show assembly.', prompt: 'exploded view diagram, mechanical parts, floating components, labeled, engineering schematic' },
                { title: 'Cutaway', keyword: 'cutaway', desc: 'Showing internal structure.', prompt: 'cutaway cross-section, internal engine parts, technical illustration, detailed implementation' },
                { title: 'Wireframe', keyword: 'wireframe', desc: '3D mesh structure.', prompt: 'wireframe model, polygon mesh, holographic, glowing edges, black background' }
            ],
            medical: [
                { title: 'Classic Atlas', keyword: 'Netter Style', desc: 'The gold standard for education. Clean, painted, labeled.', prompt: 'medical illustration in the style of Frank H. Netter, watercolor and ink, labeled anatomical parts, clean white background, educational' },
                { title: 'Diagnostic Imaging', keyword: 'MRI / X-Ray', desc: 'Greyscale, high contrast, internal view.', prompt: 'MRI scan, T2 weighted image, high contrast, radiologic imaging, greyscale, cross-section of brain, medical diagnosis' },
                { title: 'Microscopic (SEM)', keyword: 'Electron Microscope', desc: 'For viruses, cells, and bacteria.', prompt: 'scanning electron microscope (SEM) image, high magnification, depth of field, colorized, macro details, scientific visualization' },
                { title: 'Surgical Schematic', keyword: 'Vector Line Art', desc: 'Procedure steps without the blood.', prompt: 'surgical line art, black and white vector, technical manual style, surgical instruments, step-by-step procedure, minimal' }
            ]
        };

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            renderView('dashboard');
            setupMobileMenu();
            cycleTip();
        });

        function setupMobileMenu() {
            const btn = document.getElementById('menu-toggle');
            const sidebar = document.getElementById('sidebar');
            btn.addEventListener('click', () => {
                sidebar.classList.toggle('-translate-x-full');
            });
        }

        function cycleTip() {
            const tipEl = document.getElementById('daily-tip');
            let i = 0;
            setInterval(() => {
                i = (i + 1) % dataStore.tips.length;
                tipEl.style.opacity = 0;
                setTimeout(() => {
                    tipEl.textContent = `"${dataStore.tips[i]}"`;
                    tipEl.style.opacity = 1;
                }, 500);
            }, 8000);
        }

        // --- Navigation Logic ---
        function navTo(viewId) {
            state.currentView = viewId;
            
            // Update UI Sidebar
            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('active');
                if(el.dataset.target === viewId) el.classList.add('active');
            });

            // Mobile: Close sidebar on selection
            if(window.innerWidth < 768) {
                document.getElementById('sidebar').classList.add('-translate-x-full');
            }

            renderView(viewId);
        }

        // --- View Rendering Engine ---
        function renderView(viewId) {
            const main = document.getElementById('main-content');
            main.innerHTML = ''; // Clear current content
            main.scrollTop = 0;

            switch(viewId) {
                case 'dashboard': renderDashboard(main); break;
                case 'art-styles': renderArtStyles(main); break;
                case 'engineering': renderEngineering(main); break;
                case 'medical': renderMedical(main); break;
                case 'infographics': renderInfographics(main); break;
                case 'builder': renderBuilder(main); break;
            }
        }

        // --- Section: Dashboard ---
        function renderDashboard(container) {
            const content = `
                <div class="max-w-5xl mx-auto space-y-8">
                    <div class="space-y-2">
                        <h2 class="text-3xl font-bold text-stone-800">Welcome to Nano Banana</h2>
                        <p class="text-lg text-stone-600 max-w-2xl">
                            Your comprehensive reference for generative AI imagery. Explore art styles, master technical diagrams, and build the perfect prompt structure.
                        </p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Chart: Anatomy of a Prompt -->
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                            <h3 class="text-xl font-bold mb-4">Anatomy of a Perfect Prompt</h3>
                            <p class="text-sm text-stone-500 mb-4">To achieve consistent results, balance your token usage across these categories.</p>
                            <div class="chart-container">
                                <canvas id="chart-anatomy"></canvas>
                            </div>
                        </div>

                        <!-- Info Card -->
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100 flex flex-col justify-center space-y-4">
                            <h3 class="text-xl font-bold">Quick Start Guide</h3>
                            <ul class="space-y-3">
                                <li class="flex items-start">
                                    <span class="bg-yellow-100 text-yellow-800 p-1 rounded mr-3 text-xs font-mono">1</span>
                                    <span class="text-stone-600 text-sm">Select a category from the sidebar.</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="bg-yellow-100 text-yellow-800 p-1 rounded mr-3 text-xs font-mono">2</span>
                                    <span class="text-stone-600 text-sm">Explore specific keywords and visual styles.</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="bg-yellow-100 text-yellow-800 p-1 rounded mr-3 text-xs font-mono">3</span>
                                    <span class="text-stone-600 text-sm">Use the Builder to concatenate parameters.</span>
                                </li>
                            </ul>
                            <button onclick="navTo('art-styles')" class="mt-4 w-full bg-yellow-400 hover:bg-yellow-500 text-yellow-900 font-bold py-2 px-4 rounded transition">
                                Start Exploring Styles
                            </button>
                        </div>
                    </div>
                </div>
            `;
            container.innerHTML = content;
            initAnatomyChart();
        }

        // --- Section: Art Styles ---
        function renderArtStyles(container) {
            const content = `
                <div class="max-w-6xl mx-auto space-y-8">
                    <div class="space-y-2 border-b border-stone-200 pb-4">
                        <h2 class="text-3xl font-bold text-stone-800">Art Styles & Aesthetics</h2>
                        <p class="text-stone-600">
                            The "Style" component of a prompt dictates the rendering engine's approach to texture, lighting, and composition. 
                            Compare the attributes below to find the right look.
                        </p>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <!-- Left: List -->
                        <div class="lg:col-span-1 space-y-4">
                            <h3 class="font-bold text-stone-700 uppercase tracking-wide text-sm">Style Library</h3>
                            <div class="grid gap-3" id="style-list">
                                <!-- Generated by JS -->
                            </div>
                        </div>

                        <!-- Right: Detail & Chart -->
                        <div class="lg:col-span-2 bg-white rounded-xl shadow-sm border border-stone-100 p-6 sticky top-4">
                            <div id="style-detail-view">
                                <p class="text-stone-400 italic text-center py-20">Select a style to view analysis.</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            container.innerHTML = content;
            populateStyleList();
            // Default select first
            selectStyle(dataStore.styles[0].id);
        }

        function populateStyleList() {
            const list = document.getElementById('style-list');
            if(!list) return;
            dataStore.styles.forEach(style => {
                const btn = document.createElement('button');
                btn.className = 'w-full text-left p-4 bg-white border border-stone-200 rounded-lg hover:border-yellow-400 hover:bg-yellow-50 transition flex items-center group';
                btn.onclick = () => selectStyle(style.id);
                btn.innerHTML = `
                    <span class="text-2xl mr-4 group-hover:scale-110 transition">${style.icon}</span>
                    <div>
                        <div class="font-bold text-stone-800">${style.name}</div>
                        <div class="text-xs text-stone-500">${style.desc}</div>
                    </div>
                `;
                list.appendChild(btn);
            });
        }

        function selectStyle(id) {
            const style = dataStore.styles.find(s => s.id === id);
            const view = document.getElementById('style-detail-view');
            
            view.innerHTML = `
                <div class="flex justify-between items-start mb-6">
                    <div>
                        <h3 class="text-3xl font-bold flex items-center gap-3">
                            <span>${style.icon}</span> ${style.name}
                        </h3>
                        <p class="text-stone-600 mt-2">${style.desc}</p>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                    <div>
                        <h4 class="font-bold text-stone-700 mb-2 text-sm">Attribute Profile</h4>
                        <div class="chart-container" style="height: 300px;">
                            <canvas id="style-radar-chart"></canvas>
                        </div>
                    </div>
                    <div class="flex flex-col justify-center space-y-4">
                        <h4 class="font-bold text-stone-700 text-sm">Core Prompt Structure</h4>
                        <div class="bg-stone-900 text-stone-100 p-4 rounded-lg font-mono text-sm leading-relaxed relative group">
                            <span id="prompt-text-${id}">${style.prompt}</span>
                            <button onclick="copyText('prompt-text-${id}')" class="absolute top-2 right-2 bg-stone-700 hover:bg-stone-600 text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition">Copy</button>
                        </div>
                        <p class="text-xs text-stone-500">
                            *Analysis: This style prioritizes <strong class="text-yellow-600">${getMaxAttribute(style.metrics)}</strong> over others.
                        </p>
                    </div>
                </div>
            `;

            initStyleChart(style);
        }

        // --- Section: Engineering ---
        function renderEngineering(container) {
            const content = `
                <div class="max-w-5xl mx-auto space-y-8">
                    <div class="space-y-2 border-b border-stone-200 pb-4">
                        <h2 class="text-3xl font-bold text-stone-800">Technical Drawing & Engineering</h2>
                        <p class="text-stone-600">
                            Generating accurate technical imagery requires precise terminology. Vague prompts lead to "hallucinated" mechanics. 
                            Use these strict keywords to enforce perspective and structure.
                        </p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        <div class="bg-blue-50 p-6 rounded-xl border border-blue-100">
                            <h3 class="text-blue-900 font-bold mb-2">DO's</h3>
                            <ul class="list-disc list-inside text-blue-800 text-sm space-y-1">
                                <li>Use "Orthographic projection" for flat views.</li>
                                <li>Specify "White lines on blue background" for blueprints.</li>
                                <li>Add "Labeled" or "Annotated" for text placeholders.</li>
                            </ul>
                        </div>
                        <div class="bg-red-50 p-6 rounded-xl border border-red-100">
                            <h3 class="text-red-900 font-bold mb-2">DON'Ts</h3>
                            <ul class="list-disc list-inside text-red-800 text-sm space-y-1">
                                <li>Don't use "Photo realistic" (adds unwanted depth).</li>
                                <li>Avoid "Cinematic lighting" (obscures details).</li>
                                <li>Don't expect readable text (it will be gibberish).</li>
                            </ul>
                        </div>
                    </div>

                    <h3 class="font-bold text-stone-800 text-xl">Standard Engineering Views</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${dataStore.engineering.map(item => `
                            <div class="bg-white p-4 rounded-lg border border-stone-200 hover:border-blue-400 transition cursor-pointer" onclick="fillBuilderWithTech('${item.keyword}')">
                                <div class="flex justify-between items-center mb-2">
                                    <h4 class="font-bold text-stone-800">üìê ${item.title}</h4>
                                    <span class="text-xs bg-stone-100 px-2 py-1 rounded text-stone-500 font-mono">${item.keyword}</span>
                                </div>
                                <p class="text-sm text-stone-600 mb-3">${item.desc}</p>
                                <div class="bg-stone-50 p-2 rounded text-xs font-mono text-stone-500 truncate">
                                    ${item.prompt}
                                </div>
                            </div>
                        `).join('')}
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100 mt-8">
                         <h3 class="font-bold text-stone-800 mb-4">Keyword Efficiency Analysis</h3>
                         <p class="text-sm text-stone-500 mb-4">Which terms most effectively force the model into "Engineering Mode"?</p>
                         <div class="chart-container">
                            <canvas id="tech-bar-chart"></canvas>
                         </div>
                    </div>
                </div>
            `;
            container.innerHTML = content;
            initTechChart();
        }

        // --- Section: Medical ---
        function renderMedical(container) {
            const content = `
                <div class="max-w-5xl mx-auto space-y-8">
                    <div class="space-y-2 border-b border-stone-200 pb-4">
                        <h2 class="text-3xl font-bold text-teal-800">Medical & Anatomical Drawing</h2>
                        <p class="text-stone-600">
                            Generating medical imagery is a balance between <strong>Accuracy</strong> and <strong>Aesthetics</strong>. 
                            The AI often drifts towards "body horror" if not strictly controlled with clean, clinical keywords.
                        </p>
                    </div>

                    <!-- The Gore Scale Warning -->
                    <div class="bg-red-50 border-l-4 border-red-400 p-4 rounded-r shadow-sm">
                        <div class="flex items-start">
                            <span class="text-2xl mr-3">‚ö†Ô∏è</span>
                            <div>
                                <h3 class="text-red-800 font-bold text-sm uppercase tracking-wide">The "Gore" Threshold</h3>
                                <p class="text-sm text-red-700 mt-1">
                                    Avoid keywords like "Hyper-realistic surgery" or "Open wound". These trigger content filters or generate disturbing images. 
                                    Instead, use <span class="font-mono bg-white px-1 rounded border border-red-100">"Medical Illustration"</span>, <span class="font-mono bg-white px-1 rounded border border-red-100">"Schematic"</span>, or <span class="font-mono bg-white px-1 rounded border border-red-100">"Plastic model"</span>.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Left: Style Cards -->
                        <div class="space-y-4">
                            <h3 class="font-bold text-stone-700">Standard Modalities</h3>
                            ${dataStore.medical.map(item => `
                                <div class="bg-white p-4 rounded-lg border border-stone-200 hover:border-teal-400 hover:shadow-md transition cursor-pointer group" onclick="fillBuilderWithMedical('${item.title}')">
                                    <div class="flex justify-between items-center mb-2">
                                        <h4 class="font-bold text-stone-800 flex items-center gap-2">
                                            <span class="bg-teal-100 text-teal-800 text-xs px-2 py-1 rounded">Prompt Template</span>
                                            ${item.title}
                                        </h4>
                                    </div>
                                    <p class="text-sm text-stone-600 mb-3">${item.desc}</p>
                                    <div class="bg-stone-50 group-hover:bg-teal-50 p-3 rounded text-xs font-mono text-stone-500 border border-stone-100 group-hover:border-teal-100 transition">
                                        ${item.prompt}
                                    </div>
                                </div>
                            `).join('')}
                        </div>

                        <!-- Right: Analysis Chart -->
                        <div class="space-y-4">
                            <h3 class="font-bold text-stone-700">Style Utility Analysis</h3>
                            <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100 h-full">
                                <p class="text-sm text-stone-500 mb-4">Comparison of styles for educational clarity vs. artistic impact.</p>
                                <div class="chart-container" style="height: 300px;">
                                    <canvas id="medical-chart"></canvas>
                                </div>
                                <div class="mt-6 p-4 bg-teal-50 rounded-lg">
                                    <h4 class="text-teal-900 font-bold text-sm mb-2">üí° Quick Tip: Cross-Sections</h4>
                                    <p class="text-xs text-teal-800">
                                        To see inside an organ without gore, use the keyword <span class="font-bold">"Cutaway diagram"</span> or <span class="font-bold">"Cross-section view"</span> combined with <span class="font-bold">"3D render"</span>.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            container.innerHTML = content;
            initMedicalChart();
        }

        // --- Section: Infographics ---
        function renderInfographics(container) {
            const content = `
                <div class="max-w-5xl mx-auto space-y-8">
                    <div class="space-y-2 border-b border-stone-200 pb-4">
                        <h2 class="text-3xl font-bold text-stone-800">Infographics & Data Viz</h2>
                        <p class="text-stone-600">
                            Creating generated infographics is about structure, not data accuracy. The AI generates the *layout*, you overlay the data later.
                        </p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <!-- Card 1 -->
                        <div class="bg-white rounded-lg shadow-sm overflow-hidden border border-stone-200">
                            <div class="h-32 bg-gradient-to-br from-emerald-100 to-teal-50 flex items-center justify-center text-4xl">üìä</div>
                            <div class="p-4">
                                <h3 class="font-bold text-lg">Statistical Layout</h3>
                                <p class="text-sm text-stone-500 mt-1">For dashboards and charts.</p>
                                <hr class="my-3 border-stone-100">
                                <p class="font-mono text-xs text-stone-600 bg-stone-50 p-2 rounded">
                                    infographic layout, flat vector design, bar charts and pie charts, minimalism, corporate color palette, white background
                                </p>
                            </div>
                        </div>

                        <!-- Card 2 -->
                        <div class="bg-white rounded-lg shadow-sm overflow-hidden border border-stone-200">
                            <div class="h-32 bg-gradient-to-br from-purple-100 to-indigo-50 flex items-center justify-center text-4xl">üó∫Ô∏è</div>
                            <div class="p-4">
                                <h3 class="font-bold text-lg">Flowchart / Process</h3>
                                <p class="text-sm text-stone-500 mt-1">For timelines and logic.</p>
                                <hr class="my-3 border-stone-100">
                                <p class="font-mono text-xs text-stone-600 bg-stone-50 p-2 rounded">
                                    process map, flowchart infographic, connected nodes, isometric path, step-by-step guide, numbered icons, vibrant colors
                                </p>
                            </div>
                        </div>

                        <!-- Card 3 -->
                        <div class="bg-white rounded-lg shadow-sm overflow-hidden border border-stone-200">
                            <div class="h-32 bg-gradient-to-br from-orange-100 to-yellow-50 flex items-center justify-center text-4xl">üß¨</div>
                            <div class="p-4">
                                <h3 class="font-bold text-lg">Scientific Poster</h3>
                                <p class="text-sm text-stone-500 mt-1">For anatomy and biology.</p>
                                <hr class="my-3 border-stone-100">
                                <p class="font-mono text-xs text-stone-600 bg-stone-50 p-2 rounded">
                                    scientific illustration, medical infographic, anatomy breakdown, detailed text labels, clean white background, educational
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Interactive Slider Demo -->
                    <div class="bg-yellow-50 border border-yellow-200 rounded-xl p-8 text-center mt-8">
                        <h3 class="text-2xl font-bold text-yellow-900 mb-2">Complexity Balance</h3>
                        <p class="text-yellow-800 mb-6">Infographics get messy if the prompt is too complex. Keep stylization low.</p>
                        
                        <div class="flex items-center justify-center space-x-4">
                            <span class="text-sm font-bold text-stone-500">Minimal</span>
                            <div class="w-full max-w-md h-4 bg-yellow-200 rounded-full relative">
                                <div class="absolute top-0 left-0 h-4 bg-yellow-500 rounded-full" style="width: 30%"></div>
                                <div class="absolute -top-1 left-[30%] w-6 h-6 bg-white border-2 border-yellow-600 rounded-full cursor-pointer shadow-sm"></div>
                            </div>
                            <span class="text-sm font-bold text-stone-500">Cluttered</span>
                        </div>
                        <p class="text-xs text-stone-500 mt-4">Recommended setting: --s 50 (Low Stylization)</p>
                    </div>
                </div>
            `;
            container.innerHTML = content;
        }

        // --- Section: Builder ---
        function renderBuilder(container) {
            const content = `
                <div class="max-w-5xl mx-auto space-y-8">
                    <div class="space-y-2">
                        <h2 class="text-3xl font-bold text-stone-800">Advanced Prompt Builder</h2>
                        <p class="text-stone-600">
                            Construct a professional-grade prompt by layering dimensions, textures, and camera logic.
                        </p>
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-lg border border-yellow-100 grid grid-cols-1 lg:grid-cols-12 gap-8">
                        
                        <!-- Left Column: Core Components (7 cols) -->
                        <div class="lg:col-span-7 space-y-5">
                            <h3 class="font-bold text-stone-400 text-xs uppercase tracking-wider border-b border-stone-100 pb-2">Core Visuals</h3>
                            
                            <div>
                                <label class="block text-sm font-bold text-stone-700 mb-1">Subject (The "Who")</label>
                                <input type="text" id="input-subject" class="w-full p-2 border border-stone-300 rounded focus:ring-2 focus:ring-yellow-400 outline-none transition" placeholder="e.g. A futuristic cyberpunk cat">
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-bold text-stone-700 mb-1">Art Style</label>
                                    <select id="input-style" class="w-full p-2 border border-stone-300 rounded focus:ring-2 focus:ring-yellow-400 outline-none bg-white">
                                        <option value="">Select Style...</option>
                                        <option value="cinematic shot, 35mm lens">Cinematic Photo</option>
                                        <option value="oil painting, thick texture">Oil Painting</option>
                                        <option value="digital illustration, cel shaded">Digital Art</option>
                                        <option value="blueprint, white lines on blue">Blueprint</option>
                                        <option value="low poly, isometric render">Low Poly 3D</option>
                                        <option value="ukiyo-e woodblock print">Ukiyo-e Print</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-bold text-stone-700 mb-1">Lighting</label>
                                    <select id="input-lighting" class="w-full p-2 border border-stone-300 rounded focus:ring-2 focus:ring-yellow-400 outline-none bg-white">
                                        <option value="">Select Lighting...</option>
                                        <option value="golden hour lighting">Golden Hour (Warm)</option>
                                        <option value="neon volumetric lighting">Neon Cyberpunk</option>
                                        <option value="soft studio lighting">Studio (Clean)</option>
                                        <option value="bioluminescent glow">Bioluminescent</option>
                                        <option value="rembrandt lighting">Rembrandt (Dramatic)</option>
                                    </select>
                                </div>
                            </div>

                            <!-- New Unique Fields Row 1 -->
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-bold text-stone-700 mb-1">Camera & Lens <span class="text-yellow-600 text-xs">(Unique)</span></label>
                                    <select id="input-camera" class="w-full p-2 border border-stone-300 rounded focus:ring-2 focus:ring-yellow-400 outline-none bg-white">
                                        <option value="">Default View...</option>
                                        <option value="macro lens, f/2.8, extreme close-up">Macro (Tiny Details)</option>
                                        <option value="wide angle lens, 16mm, fisheye">Fisheye / Wide</option>
                                        <option value="telephoto lens, 200mm, bokeh background">Telephoto (Portrait)</option>
                                        <option value="isometric view, orthographic camera">Isometric (3D Game)</option>
                                        <option value="drone shot, aerial view, top-down">Drone / Aerial</option>
                                        <option value="GoPro footage, first-person view">GoPro / POV</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-bold text-stone-700 mb-1">Materiality <span class="text-yellow-600 text-xs">(Unique)</span></label>
                                    <select id="input-material" class="w-full p-2 border border-stone-300 rounded focus:ring-2 focus:ring-yellow-400 outline-none bg-white">
                                        <option value="">Default Texture...</option>
                                        <option value="made of translucent glass and crystal">Glass & Crystal</option>
                                        <option value="knitted wool texture, fabric">Knitted / Wool</option>
                                        <option value="brushed aluminum, metallic surfaces">Brushed Metal</option>
                                        <option value="organic slime, wet biological texture">Organic / Biological</option>
                                        <option value="origami paper folded, papercraft">Papercraft</option>
                                        <option value="voxel art, lego bricks">Voxels / Lego</option>
                                    </select>
                                </div>
                            </div>

                             <!-- New Unique Fields Row 2 -->
                            <div>
                                <label class="block text-sm font-bold text-stone-700 mb-1">Renderer / Engine</label>
                                <select id="input-renderer" class="w-full p-2 border border-stone-300 rounded focus:ring-2 focus:ring-yellow-400 outline-none bg-white">
                                    <option value="">Select Engine...</option>
                                    <option value="Unreal Engine 5 render, 8k, ray tracing">Unreal Engine 5 (Game)</option>
                                    <option value="Octane Render, physically based rendering">Octane (Product)</option>
                                    <option value="Pixar style, Disney animation style">Pixar / Disney</option>
                                    <option value="vintage polaroid, film grain, light leaks">Vintage Polaroid</option>
                                </select>
                            </div>
                        </div>

                        <!-- Right Column: Parameters & Output (5 cols) -->
                        <div class="lg:col-span-5 space-y-5 flex flex-col">
                            <h3 class="font-bold text-stone-400 text-xs uppercase tracking-wider border-b border-stone-100 pb-2">Technical Params</h3>

                            <div>
                                <label class="block text-sm font-bold text-stone-700 mb-1">Aspect Ratio</label>
                                <div class="grid grid-cols-3 gap-2">
                                    <button onclick="setAr('--ar 16:9')" class="ar-btn py-2 border rounded hover:bg-stone-50 text-xs font-bold active-ar bg-yellow-400 text-yellow-900 border-yellow-500">16:9</button>
                                    <button onclick="setAr('--ar 1:1')" class="ar-btn py-2 border rounded hover:bg-stone-50 text-xs font-bold">1:1</button>
                                    <button onclick="setAr('--ar 9:16')" class="ar-btn py-2 border rounded hover:bg-stone-50 text-xs font-bold">9:16</button>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-bold text-red-800 mb-1">Negative Prompt (Avoid)</label>
                                <input type="text" id="input-negative" class="w-full p-2 border border-red-200 bg-red-50 rounded focus:ring-2 focus:ring-red-400 outline-none placeholder-red-300 text-red-900" placeholder="e.g. blur, text, watermark, bad anatomy">
                            </div>

                            <div class="flex-1 bg-stone-900 rounded-lg p-6 flex flex-col justify-between relative mt-4 shadow-inner">
                                <div>
                                    <div class="flex justify-between items-center mb-4">
                                        <h3 class="text-stone-400 text-xs uppercase tracking-wider font-bold">Final Prompt</h3>
                                        <span class="text-xs text-stone-500 font-mono">Token Est: High</span>
                                    </div>
                                    <p id="final-output" class="font-mono text-yellow-300 text-sm md:text-base leading-relaxed break-words">
                                        [Subject] --ar 16:9
                                    </p>
                                </div>
                                <button onclick="copyBuilderPrompt()" class="mt-6 w-full bg-stone-700 hover:bg-stone-600 text-white py-3 rounded-lg font-bold transition flex items-center justify-center gap-2 group">
                                    <span>Copy to Clipboard</span>
                                    <span class="group-hover:translate-x-1 transition-transform">üìã</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            container.innerHTML = content;
            
            // Add listeners
            const inputs = ['input-subject', 'input-style', 'input-lighting', 'input-camera', 'input-material', 'input-renderer', 'input-negative'];
            inputs.forEach(id => {
                document.getElementById(id).addEventListener('input', updateBuilderOutput);
            });
            updateBuilderOutput();
        }

        // --- Helper: Update Builder Output ---
        function setAr(val) {
            state.promptBuilder.ar = val;
            document.querySelectorAll('.ar-btn').forEach(btn => {
                btn.classList.remove('bg-yellow-400', 'text-yellow-900', 'border-yellow-500');
                if(btn.textContent === val.replace('--ar ', '')) {
                    btn.classList.add('bg-yellow-400', 'text-yellow-900', 'border-yellow-500');
                }
            });
            updateBuilderOutput();
        }

        function updateBuilderOutput() {
            const subj = document.getElementById('input-subject').value || '[Subject]';
            const style = document.getElementById('input-style').value;
            const light = document.getElementById('input-lighting').value;
            const cam = document.getElementById('input-camera').value;
            const mat = document.getElementById('input-material').value;
            const rend = document.getElementById('input-renderer').value;
            const neg = document.getElementById('input-negative').value;
            const ar = state.promptBuilder.ar;

            // Smart concatenation
            let parts = [subj];
            
            // Visuals
            if(mat) parts.push(mat);
            if(style) parts.push(style);
            
            // Technicals
            if(light) parts.push(light);
            if(cam) parts.push(cam);
            if(rend) parts.push(rend);
            
            // Parameters at the end
            let finalString = parts.join(', ');
            
            if(neg) finalString += ` --no ${neg}`;
            finalString += ` ${ar}`;

            document.getElementById('final-output').textContent = finalString;
        }

        function fillBuilderWithTech(keyword) {
            navTo('builder');
            setTimeout(() => {
                document.getElementById('input-subject').value = "Mechanical gear assembly";
                document.getElementById('input-style').value = "blueprint, white lines on blue";
                updateBuilderOutput();
            }, 100);
        }

        function fillBuilderWithMedical(title) {
            const item = dataStore.medical.find(i => i.title === title);
            if(!item) return;

            navTo('builder');
            setTimeout(() => {
                // Pre-fill builder fields based on the selected medical style
                document.getElementById('input-subject').value = "Human Heart Anatomy";
                
                // Parse the prompt to roughly fit our builder slots
                if(title.includes('Netter')) {
                    document.getElementById('input-style').value = "oil painting, thick texture"; 
                    document.getElementById('input-renderer').value = "Pixar style, Disney animation style"; // Approximate
                    document.getElementById('input-lighting').value = "soft studio lighting";
                } else if (title.includes('MRI')) {
                    document.getElementById('input-style').value = "digital illustration, cel shaded";
                    document.getElementById('input-camera').value = "macro lens, f/2.8, extreme close-up";
                    document.getElementById('input-material').value = "made of translucent glass and crystal";
                } else if (title.includes('Microscopic')) {
                    document.getElementById('input-camera').value = "macro lens, f/2.8, extreme close-up";
                    document.getElementById('input-lighting').value = "bioluminescent glow";
                    document.getElementById('input-material').value = "organic slime, wet biological texture";
                }

                const output = document.getElementById('final-output');
                output.textContent = `${item.prompt} --ar 3:2`;
                
                // Flash effect
                output.parentElement.classList.add('ring-2', 'ring-teal-400');
                setTimeout(() => output.parentElement.classList.remove('ring-2', 'ring-teal-400'), 500);

            }, 100);
        }

        // --- Chart Functions ---

        function initAnatomyChart() {
            const ctx = document.getElementById('chart-anatomy').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Subject (Core)', 'Art Style', 'Lighting/Color', 'Parameters'],
                    datasets: [{
                        data: [45, 30, 15, 10],
                        backgroundColor: ['#EAB308', '#FDE047', '#D6D3D1', '#27272A'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });
        }

        function initStyleChart(styleData) {
            const ctx = document.getElementById('style-radar-chart').getContext('2d');
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Realism', 'Texture', 'Detail', 'Tech-Feel', 'Abstract'],
                    datasets: [{
                        label: styleData.name,
                        data: styleData.metrics,
                        fill: true,
                        backgroundColor: 'rgba(234, 179, 8, 0.2)',
                        borderColor: '#EAB308',
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#EAB308',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#EAB308'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    elements: {
                        line: { borderWidth: 3 }
                    },
                    scales: {
                        r: {
                            angleLines: { color: '#E5E7EB' },
                            grid: { color: '#E5E7EB' },
                            suggestedMin: 0,
                            suggestedMax: 100,
                            ticks: { display: false }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

        function initTechChart() {
            const ctx = document.getElementById('tech-bar-chart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Orthographic', 'Blueprint', 'Schematic', 'Diagram', 'Sketch'],
                    datasets: [{
                        label: 'Consistency Score (0-100)',
                        data: [95, 88, 75, 60, 40],
                        backgroundColor: [
                            '#1E3A8A', // Strongest
                            '#2563EB',
                            '#60A5FA',
                            '#93C5FD',
                            '#DBEAFE'  // Weakest
                        ],
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { 
                            beginAtZero: true,
                            grid: { color: '#F3F4F6' }
                        },
                        x: {
                            grid: { display: false }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: (ctx) => `Reliability: ${ctx.raw}%`
                            }
                        }
                    }
                }
            });
        }

        function initMedicalChart() {
            const ctx = document.getElementById('medical-chart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Netter/Atlas', 'MRI/X-Ray', 'Photo-Realism', 'Vector Line'],
                    datasets: [
                        {
                            label: 'Educational Clarity',
                            data: [95, 60, 40, 85],
                            backgroundColor: '#14B8A6' // Teal
                        },
                        {
                            label: 'Visual "Wow" Factor',
                            data: [60, 50, 90, 30],
                            backgroundColor: '#FDE047' // Yellow
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true },
                        x: { grid: { display: false } }
                    },
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });
        }

        function getMaxAttribute(metrics) {
            const labels = ['Realism', 'Texture', 'Detail', 'Tech-Feel', 'Abstract'];
            const maxVal = Math.max(...metrics);
            return labels[metrics.indexOf(maxVal)];
        }

        // --- Utilities ---
        function copyText(elementId) {
            const text = document.getElementById(elementId).innerText;
            navigator.clipboard.writeText(text).then(() => {
                alert('Copied to clipboard!');
            });
        }

        function copyBuilderPrompt() {
            const text = document.getElementById('final-output').innerText;
            navigator.clipboard.writeText(text).then(() => {
                alert('Prompt copied!');
            });
        }

    </script>
</body>
</html>